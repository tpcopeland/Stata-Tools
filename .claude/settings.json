{
  "$schema": "https://claude.ai/schema/settings.json",
  "description": "Claude Code settings for Stata-Tools repository - skills triggered by natural language",
  "skills": {
    "stata-develop": {
      "file": ".claude/skills/stata-develop.md",
      "description": "Create new Stata commands (.ado files) or modify existing ones",
      "triggers": [
        "create a new stata command",
        "create a new command",
        "new ado file",
        "develop stata",
        "implement command",
        "write an ado",
        "make a stata package",
        "add a new feature to",
        "fix bug in .ado",
        "modify the command",
        "update the ado file"
      ]
    },
    "stata-test": {
      "file": ".claude/skills/stata-test.md",
      "description": "Write functional tests for Stata commands",
      "triggers": [
        "write tests for",
        "create tests",
        "test the command",
        "functional test",
        "add tests",
        "test file for",
        "run the tests",
        "debug failing test",
        "fix failing test"
      ]
    },
    "stata-validate": {
      "file": ".claude/skills/stata-validate.md",
      "description": "Write validation tests with known-answer testing",
      "triggers": [
        "validate the command",
        "validation test",
        "verify correctness",
        "known answer test",
        "check the output is correct",
        "mathematical correctness",
        "write validation",
        "create validation file"
      ]
    },
    "stata-audit": {
      "file": ".claude/skills/stata-audit.md",
      "description": "Audit and review .ado files for errors",
      "triggers": [
        "audit the code",
        "review the ado",
        "check for errors",
        "code review",
        "find bugs in",
        "check the ado file",
        "look for issues",
        "review before commit",
        "check syntax"
      ]
    }
  },
  "hooks": {
    "validate-ado": {
      "file": ".claude/hooks/validate-ado.sh",
      "description": "Static validation of .ado files (no Stata required)",
      "on": "manual",
      "exit_codes": {
        "0": "All checks passed",
        "1": "Errors found",
        "2": "Warnings found (no errors)",
        "3": "Configuration error"
      }
    },
    "run-stata-check": {
      "file": ".claude/hooks/run-stata-check.sh",
      "description": "Run Stata syntax check (requires Stata)",
      "on": "manual",
      "requires": "stata-mp",
      "exit_codes": {
        "0": "Syntax valid",
        "1": "Syntax errors found",
        "2": "Stata not available or timeout",
        "3": "Configuration error"
      }
    }
  },
  "scripts": {
    "scaffold-command": {
      "file": ".claude/scripts/scaffold-command.sh",
      "description": "Create new command package from templates",
      "usage": "scaffold-command.sh COMMAND_NAME \"Description\" [AUTHOR]"
    },
    "check-versions": {
      "file": ".claude/scripts/check-versions.sh",
      "description": "Check version consistency across package files",
      "usage": "check-versions.sh [PACKAGE_NAME]",
      "exit_codes": {
        "0": "All checks passed",
        "1": "Errors found",
        "2": "Warnings found (no errors)",
        "3": "Configuration error"
      }
    },
    "check-test-coverage": {
      "file": ".claude/scripts/check-test-coverage.sh",
      "description": "Report test and validation coverage for packages",
      "usage": "check-test-coverage.sh [--threshold N]",
      "exit_codes": {
        "0": "Report generated, coverage meets threshold",
        "1": "Coverage below threshold",
        "3": "Configuration error"
      }
    }
  },
  "lib": {
    "common": {
      "file": ".claude/lib/common.sh",
      "description": "Shared functions for all scripts (colors, error handling, paths, cleanup)"
    }
  },
  "preferences": {
    "stata_executable": "stata-mp",
    "default_author": "Timothy P Copeland",
    "default_version": "18.0"
  }
}
